HERE=`dirname $0`
cd $HERE
echo $HERE
DC=dmd
SOFLAGS="-g -L-fPIC -shared -H"
SOFLAGS="-g -L-fPIC -shared -debug=explain -H"

$DC $SOFLAGS -c ../../source/openmethods.d
$DC $SOFLAGS openmethods.o -oflibopenmethods.so

$DC $SOFLAGS -c animals.d
$DC $SOFLAGS animals.o -oflibanimals.so

$DC $SOFLAGS -c moreanimals.d
$DC $SOFLAGS moreanimals.o -oflibmoreanimals.so

$DC -c app.d
$DC -g app.o -of=animals -L-L. -L-lanimals -L-lopenmethods -L-lphobos2 -L-rpath=`pwd`

./animals
